; Merged Mod: .\0-Paimpom\Paimon.ini, .\1-Paimpom\Paimon.ini, .\2-Paimpom\Paimon.ini, .\3-Paimpom\Paimon.ini

; Constants ---------------------------

[Constants]
global persist $swapvarh = 0
global persist $swapvart = 0
global $active
global $creditinfo = 0

[KeyHat]
condition = $active == 1
key = VK_UP
type = cycle
$swapvarh = 0,1
$creditinfo = 0

[KeyTail]
condition = $active == 1
key = VK_DOWN
type = cycle
$swapvart = 0,1
$creditinfo = 0

[Present]
post $active = 0
run = CommandListCreditInfo

; Shader ------------------------------

; Overrides ---------------------------

[TextureOverridePaimonPosition]
hash = 1f7f0600
run = CommandListPaimonPosition
$active = 1

[TextureOverridePaimonBlend]
hash = e70695e0
run = CommandListPaimonBlend

[TextureOverridePaimonTexcoord]
hash = ce8cbdfb
run = CommandListPaimonTexcoord

[TextureOverridePaimonVertexLimitRaise]
hash = 0028d4d1

[TextureOverridePaimonCloakPosition]
hash = 1a09e6cd
run = CommandListPaimonCloakPosition
$active = 1

[TextureOverridePaimonCloakBlend]
hash = ba99977e
run = CommandListPaimonCloakBlend

[TextureOverridePaimonCloakTexcoord]
hash = c1b3fa02
run = CommandListPaimonCloakTexcoord

[TextureOverridePaimonCloakVertexLimitRaise]
hash = cb027e67

[TextureOverridePaimonIB]
hash = 5b4cdc9c
;hash = 6398b643
run = CommandListPaimonIB

[TextureOverridePaimonHead]
hash = 5b4cdc9c
;hash = 6398b643
match_first_index = 0
run = CommandListPaimonHead

[TextureOverridePaimonBody]
hash = 5b4cdc9c
;hash = 6398b643
match_first_index = 26226
run = CommandListPaimonBody

[TextureOverridePaimonCloakIB]
hash = f218fa82
run = CommandListPaimonCloakIB

[TextureOverridePaimonCloakHead]
hash = f218fa82
match_first_index = 0
run = CommandListPaimonCloakHead

[TextureOverridePaimonFaceHeadDiffuse]
hash = b0c244f8
run = CommandListPaimonFaceHeadDiffuse

; CommandList -------------------------

[CommandListPaimonPosition]
if $swapvarh == 0 && $swapvart == 0
	vb0 = ResourcePaimonPosition.0
	$active = 1
else if $swapvarh == 1 && $swapvart == 0
	vb0 = ResourcePaimonPosition.1
	$active = 1
else if $swapvarh == 0 && $swapvart == 1
	vb0 = ResourcePaimonPosition.2
	$active = 1
else if $swapvarh == 1 && $swapvart == 1
	vb0 = ResourcePaimonPosition.3
	$active = 1
endif

[CommandListPaimonBlend]
if $swapvarh == 0 && $swapvart == 0
	vb1 = ResourcePaimonBlend.0
	handling = skip
	draw = 10168,0
else if $swapvarh == 1 && $swapvart == 0
	vb1 = ResourcePaimonBlend.1
	handling = skip
	draw = 8279,0
else if $swapvarh == 0 && $swapvart == 1
	vb1 = ResourcePaimonBlend.2
	handling = skip
	draw = 9840,0
else if $swapvarh == 1 && $swapvart == 1
	vb1 = ResourcePaimonBlend.3
	handling = skip
	draw = 7951,0
endif

[CommandListPaimonTexcoord]
if $swapvarh == 0 && $swapvart == 0
	vb1 = ResourcePaimonTexcoord.0
else if $swapvarh == 1 && $swapvart == 0
	vb1 = ResourcePaimonTexcoord.1
else if $swapvarh == 0 && $swapvart == 1
	vb1 = ResourcePaimonTexcoord.2
else if $swapvarh == 1 && $swapvart == 1
	vb1 = ResourcePaimonTexcoord.3
endif

[CommandListPaimonCloakPosition]
if $swapvarh == 0 && $swapvart == 0
	vb0 = ResourcePaimonCloakPosition.0
	$active = 1
else if $swapvarh == 1 && $swapvart == 0
	vb0 = ResourcePaimonCloakPosition.1
	$active = 1
else if $swapvarh == 0 && $swapvart == 1
	vb0 = ResourcePaimonCloakPosition.2
	$active = 1
else if $swapvarh == 1 && $swapvart == 1
	vb0 = ResourcePaimonCloakPosition.3
	$active = 1
endif

[CommandListPaimonCloakBlend]
if $swapvarh == 0 && $swapvart == 0
	vb1 = ResourcePaimonCloakBlend.0
	handling = skip
	draw = 318,0
else if $swapvarh == 1 && $swapvart == 0
	vb1 = ResourcePaimonCloakBlend.1
	handling = skip
	draw = 318,0
else if $swapvarh == 0 && $swapvart == 1
	vb1 = ResourcePaimonCloakBlend.2
	handling = skip
	draw = 318,0
else if $swapvarh == 1 && $swapvart == 1
	vb1 = ResourcePaimonCloakBlend.3
	handling = skip
	draw = 318,0
endif

[CommandListPaimonCloakTexcoord]
if $swapvarh == 0 && $swapvart == 0
	vb1 = ResourcePaimonCloakTexcoord.0
else if $swapvarh == 1 && $swapvart == 0
	vb1 = ResourcePaimonCloakTexcoord.1
else if $swapvarh == 0 && $swapvart == 1
	vb1 = ResourcePaimonCloakTexcoord.2
else if $swapvarh == 1 && $swapvart == 1
	vb1 = ResourcePaimonCloakTexcoord.3
endif

[CommandListPaimonIB]
if $swapvarh == 0 && $swapvart == 0
	handling = skip
	drawindexed = auto
else if $swapvarh == 1 && $swapvart == 0
	handling = skip
	drawindexed = auto
else if $swapvarh == 0 && $swapvart == 1
	handling = skip
	drawindexed = auto
else if $swapvarh == 1 && $swapvart == 1
	handling = skip
	drawindexed = auto
endif

[CommandListPaimonHead]
if $swapvarh == 0 && $swapvart == 0
	ib = ResourcePaimonHeadIB.0
	ps-t0 = ResourcePaimonHeadDiffuse.0
	ps-t1 = ResourcePaimonHeadLightMap.0
else if $swapvarh == 1 && $swapvart == 0
	ib = ResourcePaimonHeadIB.1
	ps-t0 = ResourcePaimonHeadDiffuse.1
	ps-t1 = ResourcePaimonHeadLightMap.1
else if $swapvarh == 0 && $swapvart == 1
	ib = ResourcePaimonHeadIB.2
	ps-t0 = ResourcePaimonHeadDiffuse.2
	ps-t1 = ResourcePaimonHeadLightMap.2
else if $swapvarh == 1 && $swapvart == 1
	ib = ResourcePaimonHeadIB.3
	ps-t0 = ResourcePaimonHeadDiffuse.3
	ps-t1 = ResourcePaimonHeadLightMap.3
endif

[CommandListPaimonBody]
if $swapvarh == 0 && $swapvart == 0
	ib = ResourcePaimonBodyIB.0
	ps-t0 = ResourcePaimonBodyDiffuse.0
	ps-t1 = ResourcePaimonBodyLightMap.0
else if $swapvarh == 1 && $swapvart == 0
	ib = ResourcePaimonBodyIB.1
	ps-t0 = ResourcePaimonBodyDiffuse.1
	ps-t1 = ResourcePaimonBodyLightMap.1
else if $swapvarh == 0 && $swapvart == 1
	ib = ResourcePaimonBodyIB.2
	ps-t0 = ResourcePaimonBodyDiffuse.2
	ps-t1 = ResourcePaimonBodyLightMap.2
else if $swapvarh == 1 && $swapvart == 1
	ib = ResourcePaimonBodyIB.3
	ps-t0 = ResourcePaimonBodyDiffuse.3
	ps-t1 = ResourcePaimonBodyLightMap.3
endif

[CommandListPaimonCloakIB]
if $swapvarh == 0 && $swapvart == 0
	handling = skip
else if $swapvarh == 1 && $swapvart == 0
	handling = skip
else if $swapvarh == 0 && $swapvart == 1
	handling = skip
else if $swapvarh == 1 && $swapvart == 1
	handling = skip
endif

[CommandListPaimonCloakHead]
if $swapvarh == 0 && $swapvart == 0
	ib = ResourcePaimonCloakHeadIB.0
	ps-t0 = ResourcePaimonCloakHeadDiffuse.0
	ps-t1 = ResourcePaimonCloakHeadLightMap.0
else if $swapvarh == 1 && $swapvart == 0
	ib = ResourcePaimonCloakHeadIB.1
	ps-t0 = ResourcePaimonCloakHeadDiffuse.1
	ps-t1 = ResourcePaimonCloakHeadLightMap.1
else if $swapvarh == 0 && $swapvart == 1
	ib = ResourcePaimonCloakHeadIB.2
	ps-t0 = ResourcePaimonCloakHeadDiffuse.2
	ps-t1 = ResourcePaimonCloakHeadLightMap.2
else if $swapvarh == 1 && $swapvart == 1
	ib = ResourcePaimonCloakHeadIB.3
	ps-t0 = ResourcePaimonCloakHeadDiffuse.3
	ps-t1 = ResourcePaimonCloakHeadLightMap.3
endif

[CommandListPaimonFaceHeadDiffuse]
if $swapvarh == 0 && $swapvart == 0
	ps-t0 = ResourcePaimonFaceHeadDiffuse.0
else if $swapvarh == 1 && $swapvart == 0
	ps-t0 = ResourcePaimonFaceHeadDiffuse.1
else if $swapvarh == 0 && $swapvart == 1
	ps-t0 = ResourcePaimonFaceHeadDiffuse.2
else if $swapvarh == 1 && $swapvart == 1
	ps-t0 = ResourcePaimonFaceHeadDiffuse.3
endif

[CommandListCreditInfo]
if $swapvarh == 0 && $swapvart == 0
	if $creditinfo == 0 && $active == 1
		pre Resource\ShaderFixes\help.ini\Notification = ResourceCreditInfo.0
		pre run = CustomShader\ShaderFixes\help.ini\FormatText
		pre $\ShaderFixes\help.ini\notification_timeout = time + 5.0
		$creditinfo = 1
	endif
else if $swapvarh == 1 && $swapvart == 0
	if $creditinfo == 0 && $active == 1
		pre Resource\ShaderFixes\help.ini\Notification = ResourceCreditInfo.1
		pre run = CustomShader\ShaderFixes\help.ini\FormatText
		pre $\ShaderFixes\help.ini\notification_timeout = time + 5.0
		$creditinfo = 1
	endif
else if $swapvarh == 0 && $swapvart == 1
	if $creditinfo == 0 && $active == 1
		pre Resource\ShaderFixes\help.ini\Notification = ResourceCreditInfo.2
		pre run = CustomShader\ShaderFixes\help.ini\FormatText
		pre $\ShaderFixes\help.ini\notification_timeout = time + 5.0
		$creditinfo = 1
	endif
else if $swapvarh == 1 && $swapvart == 1
	if $creditinfo == 0 && $active == 1
		pre Resource\ShaderFixes\help.ini\Notification = ResourceCreditInfo.3
		pre run = CustomShader\ShaderFixes\help.ini\FormatText
		pre $\ShaderFixes\help.ini\notification_timeout = time + 5.0
		$creditinfo = 1
	endif
endif

; Resources ---------------------------

[ResourcePaimonPosition.0]
type = Buffer
stride = 40
filename = .\0-Paimpom\PaimonPosition.buf

[ResourcePaimonBlend.0]
type = Buffer
stride = 32
filename = .\0-Paimpom\PaimonBlend.buf

[ResourcePaimonTexcoord.0]
type = Buffer
stride = 20
filename = .\0-Paimpom\PaimonTexcoord.buf

[ResourcePaimonCloakPosition.0]
type = Buffer
stride = 40
filename = .\0-Paimpom\PaimonCloakPosition.buf

[ResourcePaimonCloakBlend.0]
type = Buffer
stride = 32
filename = .\0-Paimpom\PaimonCloakBlend.buf

[ResourcePaimonCloakTexcoord.0]
type = Buffer
stride = 8
filename = .\0-Paimpom\PaimonCloakTexcoord.buf

[ResourcePaimonHeadIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\0-Paimpom\PaimonHead.ib

[ResourcePaimonBodyIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\0-Paimpom\PaimonBody.ib

[ResourcePaimonCloakHeadIB.0]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\0-Paimpom\PaimonCloakHead.ib

[ResourcePaimonHeadDiffuse.0]
filename = .\0-Paimpom\PaimonHeadDiffuse.dds

[ResourcePaimonHeadLightMap.0]
filename = .\0-Paimpom\PaimonHeadLightMap.dds

[ResourcePaimonBodyDiffuse.0]
filename = .\0-Paimpom\PaimonBodyDiffuse.dds

[ResourcePaimonBodyLightMap.0]
filename = .\0-Paimpom\PaimonBodyLightMap.dds

[ResourcePaimonCloakHeadDiffuse.0]
filename = .\0-Paimpom\PaimonCloakHeadDiffuse.dds

[ResourcePaimonCloakHeadLightMap.0]
filename = .\0-Paimpom\PaimonCloakHeadLightMap.dds

[ResourcePaimonFaceHeadDiffuse.0]
filename = .\0-Paimpom\PaimonFaceHeadDiffuse.dds

[ResourceCreditInfo.0]
type = Buffer
data = "Created by Exce"

[ResourcePaimonPosition.1]
type = Buffer
stride = 40
filename = .\1-Paimpom\PaimonPosition.buf

[ResourcePaimonBlend.1]
type = Buffer
stride = 32
filename = .\1-Paimpom\PaimonBlend.buf

[ResourcePaimonTexcoord.1]
type = Buffer
stride = 20
filename = .\1-Paimpom\PaimonTexcoord.buf

[ResourcePaimonCloakPosition.1]
type = Buffer
stride = 40
filename = .\0-Paimpom\PaimonCloakPosition.buf

[ResourcePaimonCloakBlend.1]
type = Buffer
stride = 32
filename = .\0-Paimpom\PaimonCloakBlend.buf

[ResourcePaimonCloakTexcoord.1]
type = Buffer
stride = 8
filename = .\0-Paimpom\PaimonCloakTexcoord.buf

[ResourcePaimonHeadIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\1-Paimpom\PaimonHead.ib

[ResourcePaimonBodyIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\1-Paimpom\PaimonBody.ib

[ResourcePaimonCloakHeadIB.1]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\0-Paimpom\PaimonCloakHead.ib

[ResourcePaimonHeadDiffuse.1]
filename = .\0-Paimpom\PaimonHeadDiffuse.dds

[ResourcePaimonHeadLightMap.1]
filename = .\0-Paimpom\PaimonHeadLightMap.dds

[ResourcePaimonBodyDiffuse.1]
filename = .\0-Paimpom\PaimonBodyDiffuse.dds

[ResourcePaimonBodyLightMap.1]
filename = .\0-Paimpom\PaimonBodyLightMap.dds

[ResourcePaimonCloakHeadDiffuse.1]
filename = .\0-Paimpom\PaimonCloakHeadDiffuse.dds

[ResourcePaimonCloakHeadLightMap.1]
filename = .\0-Paimpom\PaimonCloakHeadLightMap.dds

[ResourcePaimonFaceHeadDiffuse.1]
filename = .\0-Paimpom\PaimonFaceHeadDiffuse.dds

[ResourceCreditInfo.1]
type = Buffer
data = "Created by Exce"

[ResourcePaimonPosition.2]
type = Buffer
stride = 40
filename = .\2-Paimpom\PaimonPosition.buf

[ResourcePaimonBlend.2]
type = Buffer
stride = 32
filename = .\2-Paimpom\PaimonBlend.buf

[ResourcePaimonTexcoord.2]
type = Buffer
stride = 20
filename = .\2-Paimpom\PaimonTexcoord.buf

[ResourcePaimonCloakPosition.2]
type = Buffer
stride = 40
filename = .\0-Paimpom\PaimonCloakPosition.buf

[ResourcePaimonCloakBlend.2]
type = Buffer
stride = 32
filename = .\0-Paimpom\PaimonCloakBlend.buf

[ResourcePaimonCloakTexcoord.2]
type = Buffer
stride = 8
filename = .\0-Paimpom\PaimonCloakTexcoord.buf

[ResourcePaimonHeadIB.2]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\2-Paimpom\PaimonHead.ib

[ResourcePaimonBodyIB.2]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\2-Paimpom\PaimonBody.ib

[ResourcePaimonCloakHeadIB.2]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\0-Paimpom\PaimonCloakHead.ib

[ResourcePaimonHeadDiffuse.2]
filename = .\0-Paimpom\PaimonHeadDiffuse.dds

[ResourcePaimonHeadLightMap.2]
filename = .\0-Paimpom\PaimonHeadLightMap.dds

[ResourcePaimonBodyDiffuse.2]
filename = .\0-Paimpom\PaimonBodyDiffuse.dds

[ResourcePaimonBodyLightMap.2]
filename = .\0-Paimpom\PaimonBodyLightMap.dds

[ResourcePaimonCloakHeadDiffuse.2]
filename = .\0-Paimpom\PaimonCloakHeadDiffuse.dds

[ResourcePaimonCloakHeadLightMap.2]
filename = .\0-Paimpom\PaimonCloakHeadLightMap.dds

[ResourcePaimonFaceHeadDiffuse.2]
filename = .\0-Paimpom\PaimonFaceHeadDiffuse.dds

[ResourceCreditInfo.2]
type = Buffer
data = "Created by Exce"

[ResourcePaimonPosition.3]
type = Buffer
stride = 40
filename = .\3-Paimpom\PaimonPosition.buf

[ResourcePaimonBlend.3]
type = Buffer
stride = 32
filename = .\3-Paimpom\PaimonBlend.buf

[ResourcePaimonTexcoord.3]
type = Buffer
stride = 20
filename = .\3-Paimpom\PaimonTexcoord.buf

[ResourcePaimonCloakPosition.3]
type = Buffer
stride = 40
filename = .\0-Paimpom\PaimonCloakPosition.buf

[ResourcePaimonCloakBlend.3]
type = Buffer
stride = 32
filename = .\0-Paimpom\PaimonCloakBlend.buf

[ResourcePaimonCloakTexcoord.3]
type = Buffer
stride = 8
filename = .\0-Paimpom\PaimonCloakTexcoord.buf

[ResourcePaimonHeadIB.3]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\3-Paimpom\PaimonHead.ib

[ResourcePaimonBodyIB.3]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\3-Paimpom\PaimonBody.ib

[ResourcePaimonCloakHeadIB.3]
type = Buffer
format = DXGI_FORMAT_R32_UINT
filename = .\0-Paimpom\PaimonCloakHead.ib

[ResourcePaimonHeadDiffuse.3]
filename = .\0-Paimpom\PaimonHeadDiffuse.dds

[ResourcePaimonHeadLightMap.3]
filename = .\0-Paimpom\PaimonHeadLightMap.dds

[ResourcePaimonBodyDiffuse.3]
filename = .\0-Paimpom\PaimonBodyDiffuse.dds

[ResourcePaimonBodyLightMap.3]
filename = .\0-Paimpom\PaimonBodyLightMap.dds

[ResourcePaimonCloakHeadDiffuse.3]
filename = .\0-Paimpom\PaimonCloakHeadDiffuse.dds

[ResourcePaimonCloakHeadLightMap.3]
filename = .\0-Paimpom\PaimonCloakHeadLightMap.dds

[ResourcePaimonFaceHeadDiffuse.3]
filename = .\0-Paimpom\PaimonFaceHeadDiffuse.dds

[ResourceCreditInfo.3]
type = Buffer
data = "Created by Exce"



; .ini generated by GIMI (Genshin-Impact-Model-Importer) mod merger script
; If you have any issues or find any bugs, please open a ticket at https://github.com/SilentNightSound/GI-Model-Importer/issues or contact SilentNightSound#7430 on discord

; 4.1 Character Fix 
[TextureOverride41FixVertexLimitRaise]
hash = 89cdfbf6

; 4.1 Character Fix 
[TextureOverride41FixVertexLimitRaise0]
hash = 42e75140
match_priority = 1
